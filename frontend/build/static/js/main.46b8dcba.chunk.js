(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{168:function(e,t,a){},289:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),s=a(10),o=a.n(s),i=(a(168),a(329)),c=a(36),l=a(15),u=a(322),d=Object(u.a)((function(e){return{root:{"& .MuiContainer-root":{paddingLeft:0,paddingRight:0}}}})),p=a(325),m=a(326),b=a(137),j=a.n(b),f=a(16),h=a(150),g=a(9),O=a.n(g),x=a(23),v=a(27),w=a(139),y=a.n(w).a.create({baseURL:"https://insta-memories.herokuapp.com"});y.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var k=function(e){return y.delete("/posts/".concat(e))},C=function(e){return y.patch("/posts/".concat(e,"/likePost"))},S=function(e){return y.post("/user/signin",e)},P=function(e){return y.post("/user/signup",e)},N=function(e,t){y.put("/user/resetpassword/".concat(t.params.resetToken),e),console.log(t.params.resetToken)},I=Object(v.c)({name:"posts",initialState:{loading:!1,posts:[],hasErrors:!1,currentId:null},reducers:{getPosts:function(e){e.loading=!0},getPostsSuccess:function(e,t){var a=t.payload;e.posts=a,e.loading=!1,e.hasErrors=!1},getPostsFailure:function(e,t){e.loading=!1,e.hasErrors=!0},addPost:function(e,t){var a=t.payload;e.posts.push(a)},editPost:function(e,t){var a=t.payload;e.posts.forEach((function(e){return e._id===a._id?a:e}))},setCurrentId:function(e,t){var a=t.payload;e.currentId=a},removePost:function(e,t){var a=t.payload;e.posts.filter((function(e){return e._id===a}))},favPost:function(e,t){var a=t.payload;e.posts.forEach((function(e){return e._id===a._id?a:e}))}}}),T=I.actions,D=T.getPosts,F=T.getPostsSuccess,E=(T.getPostsFailure,T.addPost),q=T.editPost,M=T.setCurrentId,W=T.removePost,z=T.favPost,B=Object(v.b)("posts/fetchPosts",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.dispatch)(D()),e.next=4,y.get("/posts");case 4:r=e.sent,s=r.data,n(F(s));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),L=Object(v.b)("posts/createPost",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,o=t,y.post("/posts",o);case 3:return r=e.sent,s=r.data,e.abrupt("return",n(E(s)));case 6:case"end":return e.stop()}var o}),e)})));return function(t,a){return e.apply(this,arguments)}}()),_=Object(v.b)("posts/updatePost",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s,o,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,r=t.currentId,s=Object(h.a)(t,["currentId"]),e.next=4,c=r,l=s,y.patch("/posts/".concat(c),l);case 4:o=e.sent,i=o.data,n(q(i));case 7:case"end":return e.stop()}var c,l}),e)})));return function(t,a){return e.apply(this,arguments)}}()),R=Object(v.b)("posts/deletePost",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=a.dispatch,e.next=4,k(n);case 4:return e.abrupt("return",r(W()));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),A=Object(v.b)("posts/likePost",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=a.dispatch,e.next=4,C(n);case 4:s=e.sent,o=s.data,r(z(o));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),V=function(e){return e.posts},G=I.reducer,J=function(){var e=Object(f.b)();return Object(r.useEffect)((function(){e(B())}),[e]),Object(r.useEffect)((function(){var t=function(t){e(B())},a=new j.a("4f051944159df55f7c75",{cluster:"eu"}).subscribe("posts");a.bind("inserted",t),a.bind("deleted",t),a.bind("updated",t)}),[e]),Object(n.jsx)(p.a,{in:!0,children:Object(n.jsx)(m.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:3,children:Object(n.jsx)(m.a,{item:!0,xs:12,children:Object(n.jsx)(Tt,{})})})})},H=a(20),U=a(12),Y=a(17),$=a(154),Z=a(351),K=a(290),Q=a(331),X=a(140),ee=function(){return Object(n.jsx)("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24",children:Object(n.jsx)("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"})})},te=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),ae=a(330),ne=Object(v.c)({name:"auth",initialState:{authData:null,authFormData:null,forgotPassword:null,reset:null},reducers:{setGoogleAuth:function(e,t){var a=t.payload;localStorage.setItem("profile",JSON.stringify(Object(U.a)({},a))),e.authData=a},setLogout:function(e,t){t.payload;localStorage.clear(),e.authData=null},authFormData:function(e,t){var a=t.payload;localStorage.setItem("profile",JSON.stringify(Object(U.a)({},a))),e.authFormData=a},forgotPasswordReducer:function(e,t){var a=t.payload;e.forgotPassword=a},resetPasswordReducer:function(e,t){var a=t.payload;console.log(a),console.log(e),e.reset=a}}}),re=Object(v.b)("auth/formSignin",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s,o,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.formData,r=t.history,s=a.dispatch,e.prev=2,e.next=5,S(n);case 5:o=e.sent,i=o.data,s(de(i)),r.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("Invalid credentials");case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}()),se=Object(v.b)("auth/formSignup",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s,o,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.formData,r=t.history,s=a.dispatch,e.next=4,P(n);case 4:o=e.sent,i=o.data,s(de(i)),r.push("/");case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),oe=Object(v.b)("auth/forgotPassword",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,console.log(t),e.next=4,o=t,y.post("/user/forgotpassword",o);case 4:r=e.sent,s=r.data,console.log(s),n(pe(s));case 8:case"end":return e.stop()}var o}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ie=Object(v.b)("auth/resetPassword",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s,o,i,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.passwordDetails,r=t.match,s=t.history,o=a.dispatch,console.log(r),e.next=5,N(n,r);case 5:i=e.sent,c=i.data,console.log(c),o(me(c)),s.push("/auth");case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ce=ne.actions,le=ce.setGoogleAuth,ue=ce.setLogout,de=ce.authFormData,pe=ce.forgotPasswordReducer,me=ce.resetPasswordReducer,be=ne.reducer,je=function(){return window.innerWidth<576},fe=a(29),he="You've just signed in Google",ge="Google signin unsuccessful. Try again",Oe="Logged out! You need to login again",xe="Signin Successful!",ve="Signup Successful!",we="Post Updating!",ye="Post Created!",ke="Oops, this is not your post",Ce="You really need to sign in now",Se="Password reset unsuccessful",Pe="Password reset successful",Ne="Email not sent",Ie="Email sent",Te={anchorOrigin:{vertical:"top",horizontal:"center"}},De={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},Fe=function(e){var t=e.values,a=t.firstName,s=t.lastName,o=t.email,u=t.password,d=t.confirmPassword,p=e.errors,b=e.touched,j=e.handleChange,h=e.isValid,g=e.setFieldTouched,v=Object(r.useState)(De),w=Object(Y.a)(v,2),y=w[0],k=w[1],C=Object(r.useState)(!1),S=Object(Y.a)(C,2),P=S[0],N=S[1],I=Object(f.b)(),T=Object(l.f)(),D=te(),F=Object(fe.b)().enqueueSnackbar,E=Object(r.useState)(!1),q=Object(Y.a)(E,2),M=q[0],W=q[1],z=function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===t||void 0===t?void 0:t.profileObj;case 2:return a=e.sent,e.next=5,null===t||void 0===t?void 0:t.tokenId;case 5:n=e.sent;try{I(le({result:a,token:n})),T.push("/"),F(he,Te)}catch(r){console.log(r)}case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e,t){t.persist(),j(t),g(e,!0,!1),k(Object(U.a)(Object(U.a)({},y),{},Object(H.a)({},t.target.name,t.target.value)))},L=function(e){return b[e]?p[e]:""},_=function(e){return b[e]&&Boolean(p[e])};return Object(n.jsx)(i.a,{component:"main",maxWidth:"xs",disableGutters:je&&!0,children:Object(n.jsxs)($.a,{className:D.paper,elevation:3,children:[Object(n.jsx)(Z.a,{className:D.avatar,children:Object(n.jsx)(ae.a,{})}),Object(n.jsx)(K.a,{component:"h1",variant:"h5",children:P?"Sign up":"Sign in"}),Object(n.jsxs)("form",{className:D.form,onSubmit:function(e){e.preventDefault();var t={formData:y,history:T};P?(I(se(t)),setTimeout((function(){F(xe,Te)}),3e3)):(I(re(t)),setTimeout((function(){F(ve,Te)}),3e3))},children:[Object(n.jsxs)(m.a,{container:!0,spacing:2,children:[P&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Be,{name:"firstName",label:"First Name",handleChange:function(e){return B("firstName",e)},autoFocus:!0,half:!0,helperText:L("firstName"),error:_("firstName"),value:a}),Object(n.jsx)(Be,{name:"lastName",label:"Last Name",handleChange:function(e){return B("lastName",e)},half:!0,helperText:L("lastName"),error:_("lastName"),value:s})]}),Object(n.jsx)(Be,{name:"email",label:"Email Address",handleChange:function(e){return B("email",e)},type:"email",helperText:L("email"),error:_("email"),value:o}),Object(n.jsx)(Be,{name:"password",label:"Password",handleChange:function(e){return B("password",e)},type:M?"text":"password",handleShowPassword:function(){return W(!M)},helperText:L("password"),error:_("password"),value:u}),!P&&Object(n.jsx)("label",{htmlFor:"password",style:{marginLeft:"10px"},children:Object(n.jsx)(c.b,{to:"/forgotpassword",children:"Forgot Password?"})}),P&&Object(n.jsx)(Be,{name:"confirmPassword",label:"Repeat Password",handleChange:function(e){return B("confirmPassword",e)},type:"password",helperText:L("confirmPassword"),error:_("confirmPassword"),value:d})]}),Object(n.jsx)(Q.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:D.submit,disabled:P&&!h,children:P?"Sign Up":"Sign In"}),Object(n.jsx)(X.GoogleLogin,{clientId:"564842978452-tm3hgg3ff5m9k2olbtmvap0m2skag09e.apps.googleusercontent.com",onSuccess:z,onFailure:function(){F(ge,Te)},cookiePolicy:"single_host_origin",uxMode:"popup",render:function(e){return Object(n.jsx)(Q.a,{className:D.googleButton,color:"primary",fullWidth:!0,onClick:e.onClick,disabled:e.disabled,startIcon:Object(n.jsx)(ee,{}),variant:"contained",children:"Google Sign In"})}}),Object(n.jsx)(m.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(m.a,{item:!0,children:Object(n.jsx)(Q.a,{onClick:function(){N((function(e){return!e})),W(!1)},children:P?"Already have an account? Sign in":"Don't have an account? Sign Up"})})})]})]})})},Ee=a(349),qe=a(332),Me=a(333),We=a(334),ze=a(335),Be=function(e){var t=e.name,a=e.label,r=e.handleChange,s=e.type,o=e.handleShowPassword,i=e.half,c=e.autoFocus,l=e.helperText,u=e.error;return Object(n.jsx)(m.a,{item:!0,xs:12,sm:i?6:12,children:Object(n.jsx)(Ee.a,{name:t,onChange:r,variant:"outlined",required:!0,fullWidth:!0,label:a,autoFocus:c,type:s,helperText:l,error:u,InputProps:"password"===t?{endAdornment:Object(n.jsx)(qe.a,{position:"end",children:Object(n.jsx)(Me.a,{onClick:o,children:"password"===s?Object(n.jsx)(We.a,{}):Object(n.jsx)(ze.a,{})})})}:null})})},Le=function(e){var t,a=e.values.email,s=e.errors,o=e.touched,c=e.handleChange,l=e.isValid,u=e.setFieldTouched,d=Object(fe.b)().enqueueSnackbar,p=Object(r.useState)(""),b=Object(Y.a)(p,2),j=b[0],h=b[1],g=te(),v=Object(f.b)(),w=function(e,t){t.persist(),c(t),u(e,!0,!1),h(t.target.value)},y=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={emailData:j};try{v(oe(a)),setTimeout((function(){d(Ie,Te)}),3e3)}catch(n){h(""),setTimeout((function(){d(Ne,Te)}),3e3)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(i.a,{component:"main",maxWidth:"xs",disableGutters:je&&!0,children:Object(n.jsxs)($.a,{className:g.paper,elevation:3,children:[Object(n.jsx)(Z.a,{className:g.avatar,children:Object(n.jsx)(ae.a,{})}),Object(n.jsx)(K.a,{component:"h1",variant:"h5",children:"Forgot Password"}),Object(n.jsx)(K.a,{align:"center",children:"Please enter the email address you register your account with. We will send you reset password confirmation to this email"}),Object(n.jsxs)("form",{className:g.form,onSubmit:y,children:[Object(n.jsx)(m.a,{container:!0,spacing:2,children:Object(n.jsx)(Be,{name:"email",label:"Email Address",handleChange:function(e){return w("email",e)},type:"email",helperText:(t="email",o[t]?s[t]:""),error:function(e){return o[e]&&Boolean(s[e])}("email"),value:a})}),Object(n.jsx)(Q.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:g.submit,disabled:!l,children:"Send Mail"})]})]})})},_e={password:"",confirmPassword:""},Re=function(e){var t=e.values,a=t.password,s=t.confirmPassword,o=e.errors,c=e.touched,u=e.handleChange,d=e.isValid,p=e.setFieldTouched,b=e.match,j=Object(fe.b)().enqueueSnackbar,h=Object(r.useState)(_e),g=Object(Y.a)(h,2),v=g[0],w=g[1],y=te(),k=Object(r.useState)(!1),C=Object(Y.a)(k,2),S=C[0],P=C[1],N=function(){return P(!S)},I=Object(f.b)(),T=Object(l.f)(),D=function(e,t){t.persist(),u(t),p(e,!0,!1),w(Object(U.a)(Object(U.a)({},v),{},Object(H.a)({},t.target.name,t.target.value)))},F=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),v.password!==v.confirmPassword&&w(""),a={password:v.password};try{I(ie({passwordDetails:a,match:b,history:T})),setTimeout((function(){j(Pe,Te)}),3e3)}catch(n){setTimeout((function(){j(Se,Te)}),3e3)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){return c[e]?o[e]:""},q=function(e){return c[e]&&Boolean(o[e])};return Object(n.jsx)(i.a,{component:"main",maxWidth:"xs",disableGutters:je&&!0,children:Object(n.jsxs)($.a,{className:y.paper,elevation:3,children:[Object(n.jsx)(Z.a,{className:y.avatar,children:Object(n.jsx)(ae.a,{})}),Object(n.jsx)(K.a,{component:"h1",variant:"h5",children:"Reset Password"}),Object(n.jsx)(K.a,{align:"center",children:"Please enter a new password to access your account"}),Object(n.jsxs)("form",{className:y.form,onSubmit:F,children:[Object(n.jsxs)(m.a,{container:!0,spacing:2,children:[Object(n.jsx)(Be,{name:"password",label:"Password",handleChange:function(e){return D("password",e)},type:S?"text":"password",handleShowPassword:N,helperText:E("password"),error:q("password"),value:a}),Object(n.jsx)(Be,{name:"confirmPassword",label:"Repeat Password",handleChange:function(e){return D("confirmPassword",e)},type:S?"text":"password",handleShowPassword:N,helperText:E("confirmPassword"),error:q("confirmPassword"),value:s})]}),Object(n.jsx)(Q.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:y.submit,disabled:!d,children:"Reset Password"})]})]})})},Ae=a(336),Ve=Object(u.a)((function(e){return{appBar:Object(H.a)({borderRadius:15,marginBottom:"20px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderLeft:"5px solid #fe3d71"},e.breakpoints.down("md"),{borderLeft:"2px solid #fe3d71"}),heading:Object(H.a)({color:"rgb(91, 93, 94)",fontSize:"20px"},e.breakpoints.up("sm"),{fontSize:"30px"}),capsule:{backgroundColor:"#fe3d71",borderRadius:"0 25px 25px 0",padding:"2px 7px 2px 2px",color:"white"},profile:Object(H.a)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"220px"},e.breakpoints.up("sm"),{width:"400px"}),brandContainer:{display:"flex",alignItems:"center"},snackbar:Object(H.a)({paddingRight:"5px"},e.breakpoints.up("sm"),{paddingRight:"20px"})}})),Ge=a.p+"static/media/memories.9f8d4aee.png",Je=function(){var e=Ve();return Object(n.jsxs)(Ae.a,{className:"".concat(e.appBar," ").concat(e.root),position:"sticky",color:"inherit",children:[Object(n.jsxs)("div",{className:e.brandContainer,children:[Object(n.jsx)("img",{src:Ge,alt:"memories",height:45}),Object(n.jsxs)(K.a,{component:c.b,to:"/",className:e.heading,variant:je?"h4":"h3",align:"center",style:{textDecoration:"none"},children:["Mem",Object(n.jsx)("span",{className:e.capsule,children:"ories"})]})]}),Object(n.jsx)("div",{className:e.snackbar,children:Object(n.jsx)(Ke,{})})]})},He=a(338),Ue=a(337),Ye=Object(u.a)((function(e){return{profile:Object(H.a)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"250px"},e.breakpoints.up("sm"),{width:"400px"}),userName:{textAlign:"center",flex:.9},btn:{padding:"3px 5px"},leftPad:{paddingLeft:"5px"},root:{"& .MuiSnackbarContent-action":{marginLeft:0,paddingLeft:0},"& .MuiSnackbarContent-root":Object(H.a)({justifyContent:"space-around",padding:"0 0px"},e.breakpoints.up("sm"),{padding:"0 7px"})},purple:{color:e.palette.getContrastText(Ue.a[300]),backgroundColor:Ue.a[300]}}})),$e=a(352),Ze=a(141),Ke=function(){var e=Ye(),t=Object(f.b)(),a=Object(l.f)(),s=Object(r.useState)(!1),o=Object(Y.a)(s,2),i=o[0],u=o[1],d=Object(r.useState)(JSON.parse(localStorage.getItem("profile"))),p=Object(Y.a)(d,2),m=p[0],b=p[1],j=Object(l.g)(),h=Object(fe.b)().enqueueSnackbar,g=function(e,t){return u(!1)},O=function(){return u(!0)},x=Object(r.useCallback)((function(){t(ue()),a.push("/"),b(null),g(),h(Oe,Te)}),[t,a,h]);Object(r.useEffect)((function(){var e=null===m||void 0===m?void 0:m.token;e&&(1e3*Object(Ze.a)(e).exp<(new Date).getTime()&&x());b(JSON.parse(localStorage.getItem("profile")))}),[j,x,null===m||void 0===m?void 0:m.token]);return Object(n.jsxs)("div",{children:[(null===m||void 0===m?void 0:m.result)?Object(n.jsxs)("div",{style:{display:"flex"},onClick:O,children:[window.innerWidth>576&&Object(n.jsx)(Q.a,{children:"Your Profile"}),Object(n.jsx)(Z.a,{className:e.purple,alt:null===m||void 0===m?void 0:m.result.name,src:null===m||void 0===m?void 0:m.result.imageUrl,children:null===m||void 0===m?void 0:m.result.name.charAt(0)})]}):Object(n.jsx)(Q.a,{onClick:O,children:"Profile"}),Object(n.jsx)($e.a,{className:e.root,anchorOrigin:{vertical:"top",horizontal:"center"},open:i,autoHideDuration:je?8e3:null,onClose:g,message:(null===m||void 0===m?void 0:m.result)?Object(n.jsxs)("div",{className:e.profile,children:[Object(n.jsx)(Z.a,{className:e.purple,alt:null===m||void 0===m?void 0:m.result.name,src:null===m||void 0===m?void 0:m.result.imageUrl,children:null===m||void 0===m?void 0:m.result.name.charAt(0)}),Object(n.jsx)(K.a,{className:e.userName,children:null===m||void 0===m?void 0:m.result.name}),Object(n.jsx)(Q.a,{className:e.btn,variant:"contained",onClick:x,color:"secondary",size:"small",children:"Logout"})]}):Object(n.jsxs)("div",{className:e.profile,children:[Object(n.jsx)("span",{className:e.leftPad,children:"Sign in to Post"}),Object(n.jsx)(Q.a,{component:c.b,to:"/auth",variant:"contained",color:"secondary",size:"small",className:e.btn,children:"Sign In"})]}),action:Object(n.jsx)(r.Fragment,{children:Object(n.jsx)(Me.a,{size:"small","aria-label":"close",color:"inherit",onClick:g,className:e.close,children:Object(n.jsx)(He.a,{fontSize:"small"})})})})]})},Qe=a(350),Xe=a(348),et=a(341),tt=a(342),at=a(344),nt=a(345),rt=a(142),st=a.n(rt),ot=Object(u.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},smallHeading:{fontSize:"30px"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"},btnColor:{color:"#7f0f05"},spa:{backgroundColor:"dodgerblue",color:"red"}}),it=a(339),ct=a(340),lt=a(343),ut=a(346),dt=Object(v.c)({name:"modal",initialState:{open:!1},reducers:{setModal:function(e){e.open?e.open=!1:e.open=!0}}}),pt=dt.actions.setModal,mt=function(e){return e.modal},bt=dt.reducer,jt=function(e){var t=e.post,a=ot(),r=Object(f.b)(),s=Object(fe.b)().enqueueSnackbar,o=JSON.parse(localStorage.getItem("profile")),i=function(){return t.likes.length>0?t.likes.find((function(e){var t,a;return e===((null===o||void 0===o||null===(t=o.result)||void 0===t?void 0:t.googleId)||(null===o||void 0===o||null===(a=o.result)||void 0===a?void 0:a._id))}))?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(it.a,{fontSize:"small"}),"\xa0",t.likes.length>2?"You and ".concat(t.likes.length-1," others"):"".concat(t.likes.length," like").concat(t.likes.length>1?"s":"")]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(it.a,{fontSize:"small"}),"\xa0",t.likes.length," ",1===t.likes.length?"Like":"Likes"]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ct.a,{fontSize:"small"}),"\xa0Like"]})},c=function(){return r(R({id:t._id}))},l=function(){return r(A({id:t._id}))};return Object(n.jsxs)(et.a,{className:a.card,children:[Object(n.jsx)(tt.a,{className:a.media,image:t.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:t.title}),Object(n.jsxs)("div",{className:a.overlay,children:[Object(n.jsx)(K.a,{variant:"h2",className:a.smallHeading,children:t.name}),Object(n.jsx)(K.a,{variant:"body2",children:st()(t.createdAt).fromNow()})]}),Object(n.jsx)("div",{className:a.overlay2,children:Object(n.jsx)(Q.a,{"aria-label":"edit",style:{color:"white"},size:"small",onClick:function(){var e,a=(null===o||void 0===o||null===(e=o.result)||void 0===e?void 0:e.googleId)||(null===o||void 0===o?void 0:o.result._doc._id);if(o){if((null===t||void 0===t?void 0:t.creator)!==a)return s(ke,Te)}else s(Ce,Te);r(pt(!0)),r(M(t._id))},children:Object(n.jsx)(lt.a,{fontSize:"default"})})}),Object(n.jsx)("div",{className:a.details,children:Object(n.jsx)(K.a,{variant:"body2",color:"textSecondary",component:"h2",children:t.tags.map((function(e){return"#".concat(e," ")}))})}),Object(n.jsx)(K.a,{className:a.title,gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(n.jsx)(at.a,{children:Object(n.jsx)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:t.message})}),Object(n.jsxs)(nt.a,{className:a.cardActions,children:[Object(n.jsx)(Q.a,{size:"small",className:a.btnColor,onClick:function(e){var t;e.preventDefault(),t=l,o?t():s(Ce,Te)},children:Object(n.jsx)(i,{})}),Object(n.jsxs)(Q.a,{size:"small",className:a.btnColor,onClick:function(e){e.preventDefault(),function(){var e,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=(null===o||void 0===o||null===(e=o.result)||void 0===e?void 0:e.googleId)||(null===o||void 0===o||null===(a=o.result)||void 0===a?void 0:a._doc._id);o?r===(null===t||void 0===t?void 0:t.creator)?n():s(ke,Te):s(Ce,Te)}(c)},children:[Object(n.jsx)(ut.a,{fontSize:"small"})," Delete"]})]})]})},ft=Object(u.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"},paper:{position:"absolute",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},posts:{minHeight:"100vh",backgroundColor:"#f8f9fa",position:"relative"},postsContainer:{position:"absolute",bottom:"10px",color:"#fe3d71"},postsCreateBtn:Object(H.a)({position:"fixed",right:".2em",bottom:"10px",fontSize:"3em !important"},e.breakpoints.up("sm"),{right:"1em"}),container:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}}}));function ht(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var gt=a(48),Ot=a(347),xt=a(145),vt=a.n(xt),wt=a(149),yt=Object(u.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10},margin:{margin:e.spacing(1)},btnClear:{backgroundColor:"rgb(49, 49, 49)",color:"white"}}})),kt=Object(wt.a)({palette:{primary:{main:"#1e90ff"}}}),Ct={title:"",message:"",tags:""},St=function(e){var t,a=e.values,s=(a.title,a.message,a.tags,e.errors),o=e.touched,i=e.handleChange,l=e.isValid,u=e.setFieldTouched,d=Object(fe.b)().enqueueSnackbar,p=Object(r.useState)(Ct),m=Object(Y.a)(p,2),b=m[0],j=m[1],h=Object(f.c)(V),g=h.posts,v=h.currentId,w=v?null===g||void 0===g?void 0:g.find((function(e){return e._id===v})):null,y=Object(f.b)(),k=yt(),C=JSON.parse(localStorage.getItem("profile")),S=function(){M(null),j(Ct)};console.log(v);var P=function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),v?(y(_(Object(U.a)(Object(U.a)({},b),{},{currentId:v,name:null===C||void 0===C||null===(a=C.result)||void 0===a?void 0:a.name}))),setTimeout((function(){d(we,Te)}),5e3)):(y(L(Object(U.a)(Object(U.a)({},b),{},{name:null===C||void 0===C||null===(n=C.result)||void 0===n?void 0:n.name}))),setTimeout((function(){d(ye,Te)}),5e3)),S(),y(pt(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e,t){t.persist(),i(t),u(e,!0,!1),j(Object(U.a)(Object(U.a)({},b),{},Object(H.a)({},t.target.name,t.target.value)))};return Object(r.useEffect)((function(){w&&j(w)}),[w]),(null===C||void 0===C||null===(t=C.result)||void 0===t?void 0:t.name)?Object(n.jsx)($.a,{className:k.paper,children:Object(n.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(k.root," ").concat(k.form),onSubmit:P,children:[Object(n.jsx)(K.a,{variant:"h6",children:v?'Editing "'.concat(null===w||void 0===w?void 0:w.title,'"'):"Creating a Memory"}),Object(n.jsxs)(Ot.a,{theme:kt,children:[Object(n.jsx)(Ee.a,{className:k.margin,name:"title",variant:"outlined",label:"Title",fullWidth:!0,helperText:o.title?s.title:"",error:o.title&&Boolean(s.title),value:b.title,onChange:function(e){return N("title",e)}}),Object(n.jsx)(Ee.a,{className:k.margin,name:"message",variant:"outlined",label:"Message",fullWidth:!0,multiline:!0,rows:4,helperText:o.message?s.message:"",error:o.message&&Boolean(s.message),value:b.message,onChange:function(e){return N("message",e)}}),Object(n.jsx)(Ee.a,{className:k.margin,name:"tags",variant:"outlined",label:"Tags (coma separated)",fullWidth:!0,helperText:o.tags?s.tags:"",error:o.tags&&Boolean(s.tags),value:b.tags,onChange:function(e){return N("tags",e)}}),Object(n.jsx)("div",{className:k.fileInput,children:Object(n.jsx)(vt.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return j(Object(U.a)(Object(U.a)({},b),{},{selectedFile:t}))}})}),Object(n.jsx)(Q.a,{className:k.buttonSubmit,color:"secondary",variant:"contained",size:"large",type:"submit",fullWidth:!0,disabled:!v&&!l,children:"Submit"}),Object(n.jsx)(Q.a,{variant:"contained",size:"small",onClick:S,fullWidth:!0,className:k.btnClear,children:"Clear"})]})]})}):Object(n.jsx)($.a,{className:k.paper,style:{minWidth:"180px"},children:Object(n.jsxs)(K.a,{variant:"h6",align:"center",children:[Object(n.jsx)("p",{children:"Please, Sign in to create your own memories."}),Object(n.jsx)(Q.a,{component:c.b,to:"/auth",color:"secondary",children:"Sign In"})]})})},Pt=a(18),Nt=Pt.a({title:Pt.c("Enter a Title").min(2,"Minimum 2 characters").required("Title is required"),message:Pt.c("Type a message").min(8,"Minimum 8 characters").required("Please, type a message"),tags:Pt.c("Put a tag").min(3,"Minimum 3 characters").required("Please, tag your post")}),It=function(){return Object(n.jsx)(gt.a,{initialValues:{title:"",message:"",tags:""},validationSchema:Nt,validateOnMount:!0,children:function(e){return Object(n.jsx)(St,Object(U.a)({},e))}})},Tt=function(){var e=Object(f.b)(),t=Object(r.useState)(ht),a=Object(Y.a)(t,1)[0],s=ft(),o=Object(f.c)(V),i=o.posts,c=o.hasErrors,l=Object(f.c)(mt).open;return Object(n.jsxs)(n.Fragment,{children:[c?Object(n.jsx)(Mt,{}):(null===i||void 0===i?void 0:i.length)?Object(n.jsx)(m.a,{className:s.container,container:!0,alignItems:"stretch",spacing:3,children:null===i||void 0===i?void 0:i.map((function(e){return Object(n.jsx)(m.a,{item:!0,xs:12,sm:4,md:3,children:Object(n.jsx)(jt,{post:e})},e._id)}))}):Object(n.jsx)(Ft,{}),Object(n.jsx)("div",{className:s.postsContainer,children:Object(n.jsx)(Xe.a,{className:s.postsCreateBtn,onClick:function(){return e(pt(!0))}})}),Object(n.jsx)(Qe.a,{open:l,onClose:function(){e(pt(!1)),e(M(null))},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(n.jsx)("div",{style:a,className:s.paper,children:Object(n.jsx)(It,{})})})]})},Dt=Object(u.a)((function(e){return{loaderContainer:{display:"grid",placeItems:"center",height:"80vh"},loader:Object(H.a)({border:"0.7rem solid #f8f9fa",borderRadius:"50%",background:"#fde6ec",borderTop:"0.7rem solid #fe3d71",width:"5rem",height:"5rem",animation:"$spin 2s linear infinite"},e.breakpoints.up("md"),{width:"7rem",height:"7rem"}),"@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})),Ft=function(){var e=Dt();return Object(n.jsx)("div",{className:e.loaderContainer,children:Object(n.jsx)("div",{className:e.loader})})},Et=Object(u.a)((function(e){return{errorPage:{maxWidth:"100%",display:"grid",placeItems:"center",height:"100vh"}}})),qt=a.p+"static/media/errorPage.8c602802.jpg",Mt=function(){var e=Et();return Object(n.jsxs)("div",{className:e.errorPage,children:[Object(n.jsx)("img",{src:qt,alt:"errorPage"}),";"]})},Wt=Pt.a({password:Pt.c("Enter your new password").min(8,"Minimum 8 characters").required("Please, enter a new password"),confirmPassword:Pt.c("Confirm your new password").oneOf([Pt.b("password")],"Password's not match").required("Please, Confirm your new password")}),zt=function(){return Object(n.jsx)(gt.a,{initialValues:{password:"",confirmPassword:""},validationSchema:Wt,validateOnMount:!0,children:function(e){return Object(n.jsx)(Re,Object(U.a)({},e))}})},Bt=Pt.a({email:Pt.c("Enter your email").email("Invalid email format").required("Email is required")}),Lt=function(){return Object(n.jsx)(gt.a,{initialValues:{email:""},validationSchema:Bt,validateOnMount:!0,children:function(e){return Object(n.jsx)(Le,Object(U.a)({},e))}})},_t=Pt.a({firstName:Pt.c("Enter your first name").required("First name is required"),lastName:Pt.c("Enter your last name").required("Last name is required"),email:Pt.c("Enter your email").email("Invalid email format").required("Email is required"),password:Pt.c("Enter your new password").min(6,"Minimum 6 characters").required("Please, enter a new password"),confirmPassword:Pt.c("Confirm your new password").oneOf([Pt.b("password")],"Password's not match").required("Please, Confirm your new password")}),Rt=function(){return Object(n.jsx)(gt.a,{initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""},validationSchema:_t,validateOnMount:!0,children:function(e){return Object(n.jsx)(Fe,Object(U.a)({},e))}})};var At=function(){var e=d();return Object(n.jsx)(c.a,{children:Object(n.jsxs)(i.a,{maxWidth:"lg",className:e.root,children:[Object(n.jsx)(Je,{}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/",exact:!0,component:J}),Object(n.jsx)(l.a,{path:"/auth",exact:!0,component:Rt}),Object(n.jsx)(l.a,{path:"/forgotpassword",exact:!0,component:Lt}),Object(n.jsx)(l.a,{path:"/resetpassword/:resetToken",exact:!0,component:zt})]})]})})},Vt=a(31);var Gt=Object(v.a)({reducer:{posts:G,modal:bt,auth:be,middleware:[].concat(Object(Vt.a)(Object(v.d)()),[function(e){return function(e){return function(t){e(t)}}}])}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(n.jsx)(f.a,{store:Gt,children:Object(n.jsx)(fe.a,{maxSnack:3,preventDuplicate:!0,dense:!0,children:Object(n.jsx)(At,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[289,1,2]]]);
//# sourceMappingURL=main.46b8dcba.chunk.js.map