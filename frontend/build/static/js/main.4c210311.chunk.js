(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{110:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),s=a.n(r),o=a(10),c=a.n(o),i=(a(110),a(175)),l=a(29),d=a(15),u=a(168),p=Object(u.a)((function(e){return{root:{"& .MuiContainer-root":{paddingLeft:0,paddingRight:0}}}})),j=a(171),b=a(172),m=a(83),f=a.n(m),h=a(16),g=a(92),O=a(9),x=a.n(O),v=a(19),w=a(24),y=a(85),k=a.n(y).a.create({baseURL:"https://insta-memories.herokuapp.com"});k.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var S=function(e){return k.delete("/posts/".concat(e))},C=function(e){return k.patch("/posts/".concat(e,"/likePost"))},N=function(e){return k.post("/user/signin",e)},P=function(e){return k.post("/user/signup",e)},I=function(e,t){k.put("/user/resetpassword/".concat(t.params.resetToken),e),console.log(t.params.resetToken)},D=Object(w.c)({name:"posts",initialState:{loading:!1,posts:[],hasErrors:!1,currentId:null},reducers:{getPosts:function(e){e.loading=!0},getPostsSuccess:function(e,t){var a=t.payload;e.posts=a,e.loading=!1,e.hasErrors=!1},getPostsFailure:function(e,t){e.loading=!1,e.hasErrors=!0},addPost:function(e,t){var a=t.payload;e.posts.push(a)},editPost:function(e,t){var a=t.payload;e.posts.forEach((function(e){return e._id===a._id?a:e}))},setCurrentId:function(e,t){var a=t.payload;e.currentId=a},removePost:function(e,t){var a=t.payload;e.posts.filter((function(e){return e._id===a}))},favPost:function(e,t){var a=t.payload;e.posts.forEach((function(e){return e._id===a._id?a:e}))}}}),F=D.actions,W=F.getPosts,z=F.getPostsSuccess,_=(F.getPostsFailure,F.addPost),L=F.editPost,M=F.setCurrentId,R=F.removePost,T=F.favPost,B=Object(w.b)("posts/fetchPosts",function(){var e=Object(v.a)(x.a.mark((function e(t,a){var n,r,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.dispatch)(W()),e.next=4,k.get("/posts");case 4:r=e.sent,s=r.data,n(z(s));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),E=Object(w.b)("posts/createPost",function(){var e=Object(v.a)(x.a.mark((function e(t,a){var n,r,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,o=t,k.post("/posts",o);case 3:return r=e.sent,s=r.data,e.abrupt("return",n(_(s)));case 6:case"end":return e.stop()}var o}),e)})));return function(t,a){return e.apply(this,arguments)}}()),A=Object(w.b)("posts/updatePost",function(){var e=Object(v.a)(x.a.mark((function e(t,a){var n,r,s,o,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,r=t.currentId,s=Object(g.a)(t,["currentId"]),e.next=4,i=r,l=s,k.patch("/posts/".concat(i),l);case 4:o=e.sent,c=o.data,n(L(c));case 7:case"end":return e.stop()}var i,l}),e)})));return function(t,a){return e.apply(this,arguments)}}()),G=Object(w.b)("posts/deletePost",function(){var e=Object(v.a)(x.a.mark((function e(t,a){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=a.dispatch,e.next=4,S(n);case 4:return e.abrupt("return",r(R()));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),J=Object(w.b)("posts/likePost",function(){var e=Object(v.a)(x.a.mark((function e(t,a){var n,r,s,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=a.dispatch,e.next=4,C(n);case 4:s=e.sent,o=s.data,r(T(o));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),H=function(e){return e.posts},q=D.reducer,U=function(){var e=Object(h.b)();return Object(r.useEffect)((function(){e(B())}),[e]),Object(r.useEffect)((function(){var t=function(t){e(B())},a=new f.a("4f051944159df55f7c75",{cluster:"eu"}).subscribe("posts");a.bind("inserted",t),a.bind("deleted",t),a.bind("updated",t)}),[e]),Object(n.jsx)(j.a,{in:!0,children:Object(n.jsx)(b.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:3,children:Object(n.jsx)(b.a,{item:!0,xs:12,children:Object(n.jsx)(mt,{})})})})},Y=a(21),V=a(14),$=a(22),Z=a(96),K=a(197),Q=a(136),X=a(177),ee=a(86),te=function(){return Object(n.jsx)("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24",children:Object(n.jsx)("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"})})},ae=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),ne=a(176),re=Object(w.c)({name:"auth",initialState:{authData:null,authFormData:null,forgotPassword:null,reset:null},reducers:{setGoogleAuth:function(e,t){var a=t.payload;localStorage.setItem("profile",JSON.stringify(Object(V.a)({},a))),e.authData=a},setLogout:function(e,t){t.payload;localStorage.clear(),e.authData=null},authFormData:function(e,t){var a=t.payload;localStorage.setItem("profile",JSON.stringify(Object(V.a)({},a))),e.authFormData=a},forgotPasswordReducer:function(e,t){var a=t.payload;e.forgotPassword=a},resetPasswordReducer:function(e,t){var a=t.payload;console.log(a),console.log(e),e.reset=a}}}),se=Object(w.b)("auth/formSignin",function(){var e=Object(v.a)(x.a.mark((function e(t,a){var n,r,s,o,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.formData,r=t.history,s=a.dispatch,e.prev=2,e.next=5,N(n);case 5:o=e.sent,c=o.data,s(pe(c)),r.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("Invalid credentials");case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}()),oe=Object(w.b)("auth/formSignup",function(){var e=Object(v.a)(x.a.mark((function e(t,a){var n,r,s,o,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.formData,r=t.history,s=a.dispatch,e.next=4,P(n);case 4:o=e.sent,c=o.data,s(pe(c)),r.push("/");case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ce=Object(w.b)("auth/forgotPassword",function(){var e=Object(v.a)(x.a.mark((function e(t,a){var n,r,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,console.log(t),e.next=4,o=t,k.post("/user/forgotpassword",o);case 4:r=e.sent,s=r.data,console.log(s),n(je(s));case 8:case"end":return e.stop()}var o}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ie=Object(w.b)("auth/resetPassword",function(){var e=Object(v.a)(x.a.mark((function e(t,a){var n,r,s,o,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.passwordDetails,r=t.match,s=t.history,o=a.dispatch,console.log(r),e.next=5,I(n,r);case 5:c=e.sent,i=c.data,console.log(i),o(be(i)),s.push("/auth");case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),le=re.actions,de=le.setGoogleAuth,ue=le.setLogout,pe=le.authFormData,je=le.forgotPasswordReducer,be=le.resetPasswordReducer,me=re.reducer,fe=function(){return window.innerWidth<576},he=a(34),ge="You've just signed in",Oe="Google sign in unsuccessful. Try again",xe="You've just logged out",ve="Signin Successful!",we="Signup Successful!",ye="Post Updating!",ke="Post Created!",Se="Oops, this is not your post",Ce="You really need to sign in now",Ne=function(e){return{variant:e,anchorOrigin:{vertical:"top",horizontal:"right"}}},Pe={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},Ie=function(){var e=Object(r.useState)(Pe),t=Object($.a)(e,2),a=t[0],s=t[1],o=Object(r.useState)(!1),c=Object($.a)(o,2),u=c[0],p=c[1],j=Object(h.b)(),m=Object(d.f)(),f=ae(),g=Object(he.b)().enqueueSnackbar,O=Object(r.useState)(!1),w=Object($.a)(O,2),y=w[0],k=w[1],S=function(){var e=Object(v.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===t||void 0===t?void 0:t.profileObj;case 2:return a=e.sent,e.next=5,null===t||void 0===t?void 0:t.tokenId;case 5:n=e.sent;try{j(de({result:a,token:n})),m.push("/"),g(ge,{variant:"success"})}catch(r){console.log(r)}case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){return s(Object(V.a)(Object(V.a)({},a),{},Object(Y.a)({},e.target.name,e.target.value)))};return Object(n.jsx)(i.a,{component:"main",maxWidth:"xs",disableGutters:fe&&!0,children:Object(n.jsxs)(Z.a,{className:f.paper,elevation:3,children:[Object(n.jsx)(K.a,{className:f.avatar,children:Object(n.jsx)(ne.a,{})}),Object(n.jsx)(Q.a,{component:"h1",variant:"h5",children:u?"Sign up":"Sign in"}),Object(n.jsxs)("form",{className:f.form,onSubmit:function(e){e.preventDefault();var t={formData:a,history:m};u?(j(oe(t)),g(ve,{variant:"success"})):(j(se(t)),g(we,{variant:"success"}))},children:[Object(n.jsxs)(b.a,{container:!0,spacing:2,children:[u&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Le,{name:"firstName",label:"First Name",handleChange:C,autoFocus:!0,half:!0}),Object(n.jsx)(Le,{name:"lastName",label:"Last Name",handleChange:C,half:!0})]}),Object(n.jsx)(Le,{name:"email",label:"Email Address",handleChange:C,type:"email"}),Object(n.jsx)(Le,{name:"password",label:"Password",handleChange:C,type:y?"text":"password",handleShowPassword:function(){return k(!y)}}),Object(n.jsx)("label",{htmlFor:"password",style:{marginLeft:"10px"},children:Object(n.jsx)(l.b,{to:"/forgotpassword",className:"login-screen__forgotpassword",children:"Forgot Password?"})}),u&&Object(n.jsx)(Le,{name:"confirmPassword",label:"Repeat Password",handleChange:C,type:"password"})]}),Object(n.jsx)(X.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:f.submit,children:u?"Sign Up":"Sign In"}),Object(n.jsx)(ee.GoogleLogin,{clientId:"564842978452-tm3hgg3ff5m9k2olbtmvap0m2skag09e.apps.googleusercontent.com",onSuccess:S,onFailure:function(){g(Oe,{variant:"error"})},cookiePolicy:"single_host_origin",uxMode:"popup",render:function(e){return Object(n.jsx)(X.a,{className:f.googleButton,color:"primary",fullWidth:!0,onClick:e.onClick,disabled:e.disabled,startIcon:Object(n.jsx)(te,{}),variant:"contained",children:"Google Sign In"})}}),Object(n.jsx)(b.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(b.a,{item:!0,children:Object(n.jsx)(X.a,{onClick:function(){p((function(e){return!e})),k(!1)},children:u?"Already have an account? Sign in":"Don't have an account? Sign Up"})})})]})]})})},De=a(195),Fe=a(178),We=a(179),ze=a(180),_e=a(181),Le=function(e){var t=e.name,a=e.half,r=e.handleChange,s=e.label,o=e.autoFocus,c=e.type,i=e.handleShowPassword;return Object(n.jsx)(b.a,{item:!0,xs:12,sm:a?6:12,children:Object(n.jsx)(De.a,{name:t,onChange:r,variant:"outlined",required:!0,fullWidth:!0,label:s,autoFocus:o,type:c,InputProps:"password"===t?{endAdornment:Object(n.jsx)(Fe.a,{position:"end",children:Object(n.jsx)(We.a,{onClick:i,children:"password"===c?Object(n.jsx)(ze.a,{}):Object(n.jsx)(_e.a,{})})})}:null})})},Me=function(){var e=Object(r.useState)(""),t=Object($.a)(e,2),a=t[0],s=t[1],o=ae(),c=Object(h.b)(),l=function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={email:a};try{c(ce(n))}catch(r){s(""),setTimeout((function(){}),5e3)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(i.a,{component:"main",maxWidth:"xs",disableGutters:fe&&!0,children:Object(n.jsxs)(Z.a,{className:o.paper,elevation:3,children:[Object(n.jsx)(K.a,{className:o.avatar,children:Object(n.jsx)(ne.a,{})}),Object(n.jsx)(Q.a,{component:"h1",variant:"h5",children:"Forgot Password"}),Object(n.jsx)(Q.a,{align:"center",children:"Please enter the email address you register your account with. We will send you reset password confirmation to this email"}),Object(n.jsxs)("form",{className:o.form,onSubmit:l,children:[Object(n.jsx)(b.a,{container:!0,spacing:2,children:Object(n.jsx)(Le,{name:"email",label:"Email Address",handleChange:function(e){return s(e.target.value)},type:"email"})}),Object(n.jsx)(X.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:o.submit,children:"Send Mail"})]})]})})},Re={password:"",confirmPassword:""},Te=function(e){var t=e.match,a=Object(r.useState)(Re),s=Object($.a)(a,2),o=s[0],c=s[1],l=Object(r.useState)(""),u=Object($.a)(l,2),p=(u[0],u[1]),j=Object(r.useState)(""),m=Object($.a)(j,2),f=(m[0],m[1],ae()),g=Object(r.useState)(!1),O=Object($.a)(g,2),w=O[0],y=O[1],k=function(){return y(!w)},S=Object(h.b)(),C=Object(d.f)(),N=function(e){return c(Object(V.a)(Object(V.a)({},o),{},Object(Y.a)({},e.target.name,e.target.value)))},P=function(){var e=Object(v.a)(x.a.mark((function e(a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),o.password!==o.confirmPassword&&c(""),n={password:o.password};try{console.log("Got here"),S(ie({passwordDetails:n,match:t,history:C}))}catch(r){setTimeout((function(){p("")}),5e3)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(i.a,{component:"main",maxWidth:"xs",disableGutters:fe&&!0,children:Object(n.jsxs)(Z.a,{className:f.paper,elevation:3,children:[Object(n.jsx)(K.a,{className:f.avatar,children:Object(n.jsx)(ne.a,{})}),Object(n.jsx)(Q.a,{component:"h1",variant:"h5",children:"Reset Password"}),Object(n.jsx)(Q.a,{align:"center",children:"Please enter a new password to access your account"}),Object(n.jsxs)("form",{className:f.form,onSubmit:P,children:[Object(n.jsxs)(b.a,{container:!0,spacing:2,children:[Object(n.jsx)(Le,{name:"password",label:"Password",handleChange:N,type:w?"text":"password",handleShowPassword:k}),Object(n.jsx)(Le,{name:"confirmPassword",label:"Repeat Password",handleChange:N,type:w?"text":"password",handleShowPassword:k})]}),Object(n.jsx)(X.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:f.submit,children:"Reset Password"})]})]})})},Be=a(182),Ee=Object(u.a)((function(e){return{appBar:Object(Y.a)({borderRadius:15,marginBottom:"20px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderLeft:"5px solid #fe3d71"},e.breakpoints.down("md"),{borderLeft:"2px solid #fe3d71"}),heading:Object(Y.a)({color:"rgb(91, 93, 94)",fontSize:"20px"},e.breakpoints.up("sm"),{fontSize:"30px"}),capsule:{backgroundColor:"#fe3d71",borderRadius:"0 25px 25px 0",padding:"2px 7px 2px 2px",color:"white"},profile:Object(Y.a)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"220px"},e.breakpoints.up("sm"),{width:"400px"}),brandContainer:{display:"flex",alignItems:"center"},snackbar:Object(Y.a)({paddingRight:"5px"},e.breakpoints.up("sm"),{paddingRight:"20px"})}})),Ae=a.p+"static/media/memories.9f8d4aee.png",Ge=function(){var e=Ee();return Object(n.jsxs)(Be.a,{className:"".concat(e.appBar," ").concat(e.root),position:"sticky",color:"inherit",children:[Object(n.jsxs)("div",{className:e.brandContainer,children:[Object(n.jsx)("img",{src:Ae,alt:"memories",height:45}),Object(n.jsxs)(Q.a,{component:l.b,to:"/",className:e.heading,variant:fe?"h4":"h3",align:"center",style:{textDecoration:"none"},children:["Mem",Object(n.jsx)("span",{className:e.capsule,children:"ories"})]})]}),Object(n.jsx)("div",{className:e.snackbar,children:Object(n.jsx)(Ve,{})})]})},Je=a(184),He=a(183),qe=Object(u.a)((function(e){return{profile:Object(Y.a)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"250px"},e.breakpoints.up("sm"),{width:"400px"}),userName:{textAlign:"center",flex:.9},btn:{padding:"3px 5px"},leftPad:{paddingLeft:"5px"},root:{"& .MuiSnackbarContent-action":{marginLeft:0,paddingLeft:0},"& .MuiSnackbarContent-root":Object(Y.a)({justifyContent:"space-around",padding:"0 0px"},e.breakpoints.up("sm"),{padding:"0 7px"})},purple:{color:e.palette.getContrastText(He.a[300]),backgroundColor:He.a[300]}}})),Ue=a(198),Ye=a(87),Ve=function(){var e=qe(),t=Object(h.b)(),a=Object(d.f)(),s=Object(r.useState)(!1),o=Object($.a)(s,2),c=o[0],i=o[1],u=Object(r.useState)(JSON.parse(localStorage.getItem("profile"))),p=Object($.a)(u,2),j=p[0],b=p[1],m=Object(d.g)(),f=Object(he.b)().enqueueSnackbar,g=function(e,t){return i(!1)},O=function(){return i(!0)};Object(r.useEffect)((function(){var e=null===j||void 0===j?void 0:j.token;e&&(1e3*Object(Ye.a)(e).exp<(new Date).getTime()&&x());b(JSON.parse(localStorage.getItem("profile")))}),[m]);var x=function(){t(ue()),a.push("/"),b(null),g(),f(xe,{variant:"warning"})};return Object(n.jsxs)("div",{children:[(null===j||void 0===j?void 0:j.result)?Object(n.jsxs)("div",{style:{display:"flex"},onClick:O,children:[window.innerWidth>576&&Object(n.jsx)(X.a,{children:"Your Profile"}),Object(n.jsx)(K.a,{className:e.purple,alt:null===j||void 0===j?void 0:j.result.name,src:null===j||void 0===j?void 0:j.result.imageUrl,children:null===j||void 0===j?void 0:j.result.name.charAt(0)})]}):Object(n.jsx)(X.a,{onClick:O,children:"Profile"}),Object(n.jsx)(Ue.a,{className:e.root,anchorOrigin:{vertical:"top",horizontal:"center"},open:c,autoHideDuration:fe?8e3:null,onClose:g,message:(null===j||void 0===j?void 0:j.result)?Object(n.jsxs)("div",{className:e.profile,children:[Object(n.jsx)(K.a,{className:e.purple,alt:null===j||void 0===j?void 0:j.result.name,src:null===j||void 0===j?void 0:j.result.imageUrl,children:null===j||void 0===j?void 0:j.result.name.charAt(0)}),Object(n.jsx)(Q.a,{className:e.userName,children:null===j||void 0===j?void 0:j.result.name}),Object(n.jsx)(X.a,{className:e.btn,variant:"contained",onClick:x,color:"secondary",size:"small",children:"Logout"})]}):Object(n.jsxs)("div",{className:e.profile,children:[Object(n.jsx)("span",{className:e.leftPad,children:"Sign in to Post"}),Object(n.jsx)(X.a,{component:l.b,to:"/auth",variant:"contained",color:"secondary",size:"small",className:e.btn,children:"Sign In"})]}),action:Object(n.jsx)(r.Fragment,{children:Object(n.jsx)(We.a,{size:"small","aria-label":"close",color:"inherit",onClick:g,className:e.close,children:Object(n.jsx)(Je.a,{fontSize:"small"})})})})]})},$e=a(196),Ze=a(187),Ke=a(188),Qe=a(190),Xe=a(191),et=a(88),tt=a.n(et),at=Object(u.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},smallHeading:{fontSize:"30px"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"},btnColor:{color:"#7f0f05"},spa:{backgroundColor:"dodgerblue",color:"red"}}),nt=a(185),rt=a(186),st=a(189),ot=a(192),ct=Object(w.c)({name:"modal",initialState:{open:!1},reducers:{setModal:function(e){e.open?e.open=!1:e.open=!0}}}),it=ct.actions.setModal,lt=function(e){return e.modal},dt=ct.reducer,ut=function(e){var t=e.post,a=at(),r=Object(h.b)(),s=Object(he.b)().enqueueSnackbar,o=JSON.parse(localStorage.getItem("profile")),c=function(){return t.likes.length>0?t.likes.find((function(e){var t,a;return e===((null===o||void 0===o||null===(t=o.result)||void 0===t?void 0:t.googleId)||(null===o||void 0===o||null===(a=o.result)||void 0===a?void 0:a._id))}))?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(nt.a,{fontSize:"small"}),"\xa0",t.likes.length>2?"You and ".concat(t.likes.length-1," others"):"".concat(t.likes.length," like").concat(t.likes.length>1?"s":"")]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(nt.a,{fontSize:"small"}),"\xa0",t.likes.length," ",1===t.likes.length?"Like":"Likes"]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(rt.a,{fontSize:"small"}),"\xa0Like"]})},i=function(){return r(G({id:t._id}))},l=function(){return r(J({id:t._id}))};return Object(n.jsxs)(Ze.a,{className:a.card,children:[Object(n.jsx)(Ke.a,{className:a.media,image:t.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:t.title}),Object(n.jsxs)("div",{className:a.overlay,children:[Object(n.jsx)(Q.a,{variant:"h2",className:a.smallHeading,children:t.name}),Object(n.jsx)(Q.a,{variant:"body2",children:tt()(t.createdAt).fromNow()})]}),Object(n.jsx)("div",{className:a.overlay2,children:Object(n.jsx)(X.a,{"aria-label":"edit",style:{color:"white"},size:"small",onClick:function(){var e,a=(null===o||void 0===o||null===(e=o.result)||void 0===e?void 0:e.googleId)||(null===o||void 0===o?void 0:o.result._doc._id);if(o){if(t._id!==a)return s(Se,Ne("error"))}else s(Ce,Ne("info"));r(it(!0)),r(M(t._id))},children:Object(n.jsx)(st.a,{fontSize:"default"})})}),Object(n.jsx)("div",{className:a.details,children:Object(n.jsx)(Q.a,{variant:"body2",color:"textSecondary",component:"h2",children:t.tags.map((function(e){return"#".concat(e," ")}))})}),Object(n.jsx)(Q.a,{className:a.title,gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(n.jsx)(Qe.a,{children:Object(n.jsx)(Q.a,{variant:"body2",color:"textSecondary",component:"p",children:t.message})}),Object(n.jsxs)(Xe.a,{className:a.cardActions,children:[Object(n.jsx)(X.a,{size:"small",className:a.btnColor,onClick:function(e){var t;e.preventDefault(),t=l,o?t():s(Ce,Ne("info"))},children:Object(n.jsx)(c,{})}),Object(n.jsxs)(X.a,{size:"small",className:a.btnColor,onClick:function(e){e.preventDefault(),function(){var e,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=(null===o||void 0===o||null===(e=o.result)||void 0===e?void 0:e.googleId)||(null===o||void 0===o||null===(a=o.result)||void 0===a?void 0:a._doc._id);o?r===(null===t||void 0===t?void 0:t.creator)?n():s(Se,Ne("error")):s(Ce,Ne("info"))}(i)},children:[Object(n.jsx)(ot.a,{fontSize:"small"})," Delete"]})]})]})},pt=a(193),jt=Object(u.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"},paper:{position:"absolute",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},posts:{minHeight:"100vh",backgroundColor:"#f8f9fa",position:"relative"},postsContainer:{position:"absolute",bottom:"10px",color:"#fe3d71"},postsCreateBtn:Object(Y.a)({position:"fixed",right:".2em",bottom:"10px",fontSize:"3em !important"},e.breakpoints.up("sm"),{right:"1em"}),container:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}}}));function bt(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var mt=function(){var e=Object(h.b)(),t=Object(r.useState)(bt),a=Object($.a)(t,1)[0],s=jt(),o=Object(h.c)(H),c=o.posts,i=o.hasErrors,l=Object(h.c)(lt).open;return Object(n.jsxs)(n.Fragment,{children:[i?Object(n.jsx)(Nt,{}):(null===c||void 0===c?void 0:c.length)?Object(n.jsx)(b.a,{className:s.container,container:!0,alignItems:"stretch",spacing:3,children:null===c||void 0===c?void 0:c.map((function(e){return Object(n.jsx)(b.a,{item:!0,xs:12,sm:4,md:4,children:Object(n.jsx)(ut,{post:e})},e._id)}))}):Object(n.jsx)(kt,{}),Object(n.jsx)("div",{className:s.postsContainer,children:Object(n.jsx)(pt.a,{className:s.postsCreateBtn,onClick:function(){return e(it(!0))}})}),Object(n.jsx)($e.a,{open:l,onClose:function(){e(it(!1)),e(M(null))},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(n.jsx)("div",{style:a,className:s.paper,children:Object(n.jsx)(wt,{})})})]})},ft=a(194),ht=a(89),gt=a.n(ht),Ot=a(90),xt=Object(u.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10},margin:{margin:e.spacing(1)},btnClear:{backgroundColor:"rgb(49, 49, 49)",color:"white"}}})),vt=Object(Ot.a)({palette:{primary:{main:"#1e90ff"}}}),wt=function(){var e,t=Object(he.b)().enqueueSnackbar,a=Object(r.useState)({title:"",message:"",tags:"",selectedFile:""}),s=Object($.a)(a,2),o=s[0],c=s[1],i=Object(h.c)(H),d=i.posts,u=i.currentId,p=u?null===d||void 0===d?void 0:d.find((function(e){return e._id===u})):null,j=Object(h.b)(),b=xt(),m=JSON.parse(localStorage.getItem("profile")),f=function(){M(null),c({title:"",message:"",tags:"",selectedFile:""})},g=function(){var e=Object(v.a)(x.a.mark((function e(a){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),u?(j(A(Object(V.a)(Object(V.a)({},o),{},{currentId:u,name:null===m||void 0===m||null===(n=m.result)||void 0===n?void 0:n.name}))),t(ye,{variant:"info"})):(j(E(Object(V.a)(Object(V.a)({},o),{},{name:null===m||void 0===m||null===(r=m.result)||void 0===r?void 0:r.name}))),t(ke,{variant:"info"})),f(),j(it(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){p&&c(p)}),[p]),(null===m||void 0===m||null===(e=m.result)||void 0===e?void 0:e.name)?Object(n.jsx)(Z.a,{className:b.paper,children:Object(n.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(b.root," ").concat(b.form),onSubmit:g,children:[Object(n.jsx)(Q.a,{variant:"h6",children:u?'Editing "'.concat(null===p||void 0===p?void 0:p.title,'"'):"Creating a Memory"}),Object(n.jsxs)(ft.a,{theme:vt,children:[Object(n.jsx)(De.a,{className:b.margin,name:"title",variant:"outlined",label:"Title",fullWidth:!0,value:o.title,onChange:function(e){return c(Object(V.a)(Object(V.a)({},o),{},{title:e.target.value}))}}),Object(n.jsx)(De.a,{className:b.margin,name:"message",variant:"outlined",label:"Message",fullWidth:!0,multiline:!0,rows:4,value:o.message,onChange:function(e){return c(Object(V.a)(Object(V.a)({},o),{},{message:e.target.value}))}}),Object(n.jsx)(De.a,{className:b.margin,name:"tags",variant:"outlined",label:"Tags (coma separated)",fullWidth:!0,value:o.tags,onChange:function(e){return c(Object(V.a)(Object(V.a)({},o),{},{tags:e.target.value.split(",")}))}}),Object(n.jsx)("div",{className:b.fileInput,children:Object(n.jsx)(gt.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return c(Object(V.a)(Object(V.a)({},o),{},{selectedFile:t}))}})}),Object(n.jsx)(X.a,{className:b.buttonSubmit,color:"secondary",variant:"contained",size:"large",type:"submit",fullWidth:!0,children:"Submit"}),Object(n.jsx)(X.a,{variant:"contained",size:"small",onClick:f,fullWidth:!0,className:b.btnClear,children:"Clear"})]})]})}):Object(n.jsx)(Z.a,{className:b.paper,style:{minWidth:"180px"},children:Object(n.jsxs)(Q.a,{variant:"h6",align:"center",children:[Object(n.jsx)("p",{children:"Please, Sign in to create your own memories."}),Object(n.jsx)(X.a,{component:l.b,to:"/auth",color:"secondary",children:"Sign In"})]})})},yt=Object(u.a)((function(e){return{loaderContainer:{display:"grid",placeItems:"center",height:"80vh"},loader:Object(Y.a)({border:"0.7rem solid #f8f9fa",borderRadius:"50%",background:"#fde6ec",borderTop:"0.7rem solid #fe3d71",width:"5rem",height:"5rem",animation:"$spin 2s linear infinite"},e.breakpoints.up("md"),{width:"7rem",height:"7rem"}),"@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})),kt=function(){var e=yt();return Object(n.jsx)("div",{className:e.loaderContainer,children:Object(n.jsx)("div",{className:e.loader})})},St=Object(u.a)((function(e){return{errorPage:{maxWidth:"100%",display:"grid",placeItems:"center",height:"100vh"}}})),Ct=a.p+"static/media/errorPage.8c602802.jpg",Nt=function(){var e=St();return Object(n.jsxs)("div",{className:e.errorPage,children:[Object(n.jsx)("img",{src:Ct,alt:"errorPage"}),";"]})};var Pt=function(){var e=p();return Object(n.jsx)(l.a,{children:Object(n.jsxs)(i.a,{maxWidth:"lg",className:e.root,disableGutters:fe&&!0,children:[Object(n.jsx)(Ge,{}),Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{path:"/",exact:!0,component:U}),Object(n.jsx)(d.a,{path:"/auth",exact:!0,component:Ie}),Object(n.jsx)(d.a,{path:"/forgotpassword",exact:!0,component:Me}),Object(n.jsx)(d.a,{path:"/resetpassword/:resetToken",exact:!0,component:Te})]})]})})},It=a(91);var Dt=Object(w.a)({reducer:{posts:q,modal:dt,auth:me,middleware:[].concat(Object(It.a)(Object(w.d)()),[function(e){return function(e){return function(t){e(t)}}}])}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(h.a,{store:Dt,children:Object(n.jsx)(he.a,{maxSnack:3,preventDuplicate:!0,dense:!0,children:Object(n.jsx)(Pt,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[135,1,2]]]);
//# sourceMappingURL=main.4c210311.chunk.js.map